<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü¶Ñ Unicorn - VC Investment Game</title>
    <meta name="description" content="Play as a VC and make bets on startups. Can you find the next unicorn?">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        /* Flying Unicorns */
        .unicorn {
            position: fixed;
            font-size: 2rem;
            z-index: 1;
            animation: float 20s infinite linear;
            opacity: 0.7;
        }

        .unicorn:nth-child(1) { top: 10%; animation-duration: 15s; animation-delay: 0s; }
        .unicorn:nth-child(2) { top: 30%; animation-duration: 20s; animation-delay: 2s; }
        .unicorn:nth-child(3) { top: 50%; animation-duration: 18s; animation-delay: 4s; }
        .unicorn:nth-child(4) { top: 70%; animation-duration: 22s; animation-delay: 1s; }
        .unicorn:nth-child(5) { top: 20%; animation-duration: 25s; animation-delay: 3s; }
        .unicorn:nth-child(6) { top: 60%; animation-duration: 16s; animation-delay: 5s; }

        @keyframes float {
            0% {
                left: -100px;
                transform: translateY(0) rotate(0deg);
            }
            50% {
                transform: translateY(-30px) rotate(5deg);
            }
            100% {
                left: calc(100% + 100px);
                transform: translateY(0) rotate(0deg);
            }
        }

        /* Sparkles */
        .sparkle {
            position: fixed;
            width: 4px;
            height: 4px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            animation: sparkle 3s infinite;
            z-index: 1;
        }

        @keyframes sparkle {
            0%, 100% { 
                opacity: 0;
                transform: scale(0) rotate(0deg);
            }
            50% { 
                opacity: 1;
                transform: scale(1) rotate(180deg);
            }
        }

        .sparkle:nth-child(7) { top: 15%; left: 20%; animation-delay: 0s; }
        .sparkle:nth-child(8) { top: 35%; left: 40%; animation-delay: 1s; }
        .sparkle:nth-child(9) { top: 55%; left: 60%; animation-delay: 2s; }
        .sparkle:nth-child(10) { top: 75%; left: 80%; animation-delay: 1.5s; }
        .sparkle:nth-child(11) { top: 25%; left: 70%; animation-delay: 0.5s; }
        .sparkle:nth-child(12) { top: 65%; left: 30%; animation-delay: 2.5s; }

        /* Content Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 10;
        }

        /* Header */
        header {
            text-align: center;
            padding: 3rem 0;
            animation: fadeInDown 1s ease-out;
        }

        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo {
            font-size: 5rem;
            line-height: 1;
            margin-bottom: 1rem;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        h1 {
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 1rem;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #fff, #ffd700);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .tagline {
            font-size: 1.5rem;
            margin-bottom: 2rem;
            opacity: 0.95;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        /* Stats Bar */
        .stats {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-bottom: 3rem;
            flex-wrap: wrap;
        }

        .stat-badge {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 0.75rem 1.5rem;
            border-radius: 50px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            transition: transform 0.3s ease, background 0.3s ease;
            animation: fadeIn 1s ease-out;
        }

        .stat-badge:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.3);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Main Content Card */
        .card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 3rem;
            margin-bottom: 2rem;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            animation: fadeInUp 1s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .card h2 {
            font-size: 2rem;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card p {
            font-size: 1.1rem;
            line-height: 1.8;
            margin-bottom: 1rem;
            opacity: 0.95;
        }

        /* Download Section */
        .download-section {
            text-align: center;
            margin: 3rem 0;
        }

        .download-btn {
            display: inline-block;
            background: linear-gradient(45deg, #ffd700, #ffed4e);
            color: #333;
            padding: 1.5rem 3rem;
            border-radius: 50px;
            text-decoration: none;
            font-size: 1.3rem;
            font-weight: 700;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
            border: none;
            cursor: pointer;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .download-btn:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(255, 215, 0, 0.6);
            animation: none;
        }

        .platform-links {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 1.5rem;
            flex-wrap: wrap;
        }

        .platform-btn {
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            padding: 0.75rem 1.5rem;
            border-radius: 30px;
            text-decoration: none;
            color: #fff;
            border: 2px solid rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .platform-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
            border-color: rgba(255, 255, 255, 0.5);
        }

        /* Features Grid */
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }

        .feature {
            background: rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s ease, background 0.3s ease;
        }

        .feature:hover {
            transform: translateY(-5px);
            background: rgba(255, 255, 255, 0.15);
        }

        .feature h3 {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
        }

        .feature p {
            font-size: 0.95rem;
            opacity: 0.9;
        }

        /* GitHub Link */
        .github-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(0, 0, 0, 0.3);
            padding: 0.75rem 1.5rem;
            border-radius: 30px;
            color: #fff;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .github-link:hover {
            background: rgba(0, 0, 0, 0.5);
            transform: translateY(-3px);
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 2rem;
            opacity: 0.8;
        }

        /* ASCII Art */
        .ascii-art {
            font-family: monospace;
            font-size: 0.5rem;
            line-height: 1;
            white-space: pre;
            color: #ffd700;
            text-align: center;
            margin: 2rem 0;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        /* Leaderboard Styles */
        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            overflow: hidden;
        }

        .leaderboard-table th {
            background: rgba(255, 215, 0, 0.2);
            padding: 1rem;
            text-align: left;
            font-weight: 700;
            border-bottom: 2px solid rgba(255, 215, 0, 0.3);
        }

        .leaderboard-table td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .leaderboard-table tr:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .rank-1 { color: #ffd700; font-weight: 900; }
        .rank-2 { color: #c0c0c0; font-weight: 700; }
        .rank-3 { color: #cd7f32; font-weight: 700; }

        .positive-roi { color: #4ade80; }
        .negative-roi { color: #f87171; }

        .loading {
            text-align: center;
            padding: 2rem;
            font-size: 1.2rem;
            opacity: 0.8;
        }

        .error-message {
            background: rgba(248, 113, 113, 0.2);
            border: 2px solid rgba(248, 113, 113, 0.5);
            padding: 1rem;
            border-radius: 10px;
            margin: 1rem 0;
        }

        .filter-tabs {
            display: flex;
            gap: 0.5rem;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
        }

        .filter-tab {
            padding: 0.5rem 1rem;
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .filter-tab:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        .filter-tab.active {
            background: rgba(255, 215, 0, 0.3);
            border-color: rgba(255, 215, 0, 0.6);
        }

        .refresh-btn {
            display: inline-block;
            background: rgba(255, 255, 255, 0.2);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 2px solid rgba(255, 255, 255, 0.3);
            margin-bottom: 1rem;
        }

        .refresh-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }

        @media (max-width: 768px) {
            h1 { font-size: 2.5rem; }
            .tagline { font-size: 1.2rem; }
            .card { padding: 2rem; }
            .logo { font-size: 3rem; }
            .stats { gap: 1rem; }
            .download-btn { padding: 1rem 2rem; font-size: 1.1rem; }
        }
    </style>
</head>
<body>
    <!-- Flying Unicorns -->
    <div class="unicorn">ü¶Ñ</div>
    <div class="unicorn">ü¶Ñ</div>
    <div class="unicorn">ü¶Ñ</div>
    <div class="unicorn">ü¶Ñ</div>
    <div class="unicorn">ü¶Ñ</div>
    <div class="unicorn">ü¶Ñ</div>
    
    <!-- Sparkles -->
    <div class="sparkle"></div>
    <div class="sparkle"></div>
    <div class="sparkle"></div>
    <div class="sparkle"></div>
    <div class="sparkle"></div>
    <div class="sparkle"></div>

    <div class="container">
        <header>
            <div class="logo">ü¶Ñ</div>
            <h1>UNICORN</h1>
            <p class="tagline">Build or Invest in the Next Unicorn</p>
            <p style="font-size: 1rem; opacity: 0.9; margin-top: -1rem;">Two Game Modes: Play as a VC Investor or as a Startup Founder</p>
            
            <div class="stats">
                <a href="https://github.com/jamesacampbell/unicorn" target="_blank" class="stat-badge">
                    ‚≠ê <strong>Star on GitHub</strong>
                </a>
                <div class="stat-badge">
                    üéÆ <strong>2 Game Modes</strong>
                </div>
                <div class="stat-badge">
                    üí∞ <strong>35+ Achievements</strong>
                </div>
                <div class="stat-badge">
                    üè¢ <strong>20 Startups</strong>
                </div>
                <div class="stat-badge">
                    üéØ <strong>60+ Events</strong>
                </div>
            </div>
        </header>

        <div class="card">
            <h2>üìà What is Unicorn?</h2>
            <p>
                <strong>Unicorn</strong> is a text-based startup simulation game with two distinct modes:
            </p>
            <p>
                <strong>üíº VC Mode:</strong> Start as a venture capitalist with $250,000 and invest in 20 different startups over 10 years (120 turns). 
                Diversify your portfolio, manage risk, and try to find the next unicorn! Will you become a Legendary Investor?
            </p>
            <p>
                <strong>üöÄ Founder Mode (NEW!):</strong> Build your own startup from the ground up! Choose from 10 templates (SaaS, DeepTech, GovTech), 
                hire your team, raise funding rounds, manage churn, and navigate strategic decisions over 60 months (5 years). 
                Can you reach an IPO or get acquired?
            </p>

            <div class="ascii-art">               \
                \\
                 \%,     ,'     , ,.
                  \%\,';/J,";";";;,,.
     ~.------------\%;((`);)));`;;,.,-----------,~
    ~~:           ,`;@)((;`,`((;(;;);;,`         :~~
   ~~ :           ;`(@```))`~ ``; );(;));;,      : ~~
  ~~  :            `X `(( `),    (;;);;;;`       :  ~~
 ~~~~ :            / `) `` /;~   `;;;;;;;);,     :  ~~~~
~~~~  :           / , ` ,/` /     (`;;(;;;;,     : ~~~~
  ~~~ :          (o  /]_/` /     ,);;;`;;;;;`,,  : ~~~
   ~~ :           `~` `~`  `      ``;,  ``;" ';, : ~~
    ~~:                             `'   `'  `'  :~~
     ~`-----------------------------------------`~</div>
        </div>

        <div class="card download-section">
            <h2>üöÄ Download Latest Release</h2>
            <p style="margin-bottom: 2rem;">Get started with Unicorn and begin your VC adventure!</p>
            
            <a href="https://github.com/jamesacampbell/unicorn/releases/latest" class="download-btn">
                ‚¨áÔ∏è Download Latest Release
            </a>

            <div class="platform-links">
                <a href="https://github.com/jamesacampbell/unicorn/releases/latest/download/unicorn-darwin-amd64" class="platform-btn">
                    üçé macOS (Intel)
                </a>
                <a href="https://github.com/jamesacampbell/unicorn/releases/latest/download/unicorn-darwin-arm64" class="platform-btn">
                    üçé macOS (Apple Silicon)
                </a>
                <a href="https://github.com/jamesacampbell/unicorn/releases/latest/download/unicorn-linux-amd64" class="platform-btn">
                    üêß Linux
                </a>
                <a href="https://github.com/jamesacampbell/unicorn/releases/latest/download/unicorn-windows-amd64.exe" class="platform-btn">
                    ü™ü Windows
                </a>
            </div>

            <p style="margin-top: 2rem; opacity: 0.8;">
                Or build from source: <code style="background: rgba(0,0,0,0.3); padding: 0.25rem 0.5rem; border-radius: 5px;">go get github.com/jamesacampbell/unicorn</code>
            </p>
        </div>

        <div class="card" id="global-leaderboard">
            <h2>üèÜ Global Leaderboards</h2>
            <p style="margin-bottom: 1rem;">Compete with players worldwide! Top scores updated in real-time.</p>
            
            <!-- Mode Selection -->
            <div class="filter-tabs" style="margin-bottom: 2rem;">
                <button class="filter-tab active" onclick="switchLeaderboardMode('vc')">üíº VC Mode</button>
                <button class="filter-tab" onclick="switchLeaderboardMode('founder')">üöÄ Founder Mode</button>
            </div>
            
            <!-- VC Mode Filters -->
            <div id="vc-filters" class="filter-tabs">
                <button class="filter-tab active" onclick="loadVCLeaderboard('all', 'net_worth', event)">Top by Net Worth</button>
                <button class="filter-tab" onclick="loadVCLeaderboard('all', 'roi', event)">Top by ROI</button>
                <button class="filter-tab" onclick="loadVCLeaderboard('Easy', 'net_worth', event)">Easy</button>
                <button class="filter-tab" onclick="loadVCLeaderboard('Medium', 'net_worth', event)">Medium</button>
                <button class="filter-tab" onclick="loadVCLeaderboard('Hard', 'net_worth', event)">Hard</button>
                <button class="filter-tab" onclick="loadVCLeaderboard('Expert', 'net_worth', event)">Expert</button>
            </div>

            <!-- Founder Mode Filters -->
            <div id="founder-filters" class="filter-tabs" style="display: none;">
                <button class="filter-tab active" onclick="loadFounderLeaderboard('', 'payout', event)">Top by Payout</button>
                <button class="filter-tab" onclick="loadFounderLeaderboard('', 'valuation', event)">Top by Valuation</button>
                <button class="filter-tab" onclick="loadFounderLeaderboard('', 'arr', event)">Top by ARR</button>
                <button class="filter-tab" onclick="loadFounderLeaderboard('', 'equity', event)">Best Equity %</button>
            </div>

            <button class="refresh-btn" onclick="currentMode === 'vc' ? loadVCLeaderboard(currentFilter, currentSort, null) : loadFounderLeaderboard('', currentSort, null)">üîÑ Refresh</button>

            <div id="leaderboard-content">
                <div class="loading">Loading global leaderboard...</div>
            </div>

            <p style="margin-top: 2rem; opacity: 0.8; text-align: center;">
                Powered by <a href="https://datasette.io" target="_blank" style="color: #ffd700; text-decoration: none; font-weight: 600;">Datasette</a>
            </p>
        </div>

        <div class="card">
            <h2>‚ú® VC Mode Features</h2>
            <div class="features">
                <div class="feature">
                    <h3>üí∞ Portfolio Management</h3>
                    <p>Invest in 20 startups across 12+ sectors: FinTech, BioTech, CleanTech, Gaming, and more</p>
                </div>
                <div class="feature">
                    <h3>üèÜ Difficulty Levels</h3>
                    <p>Choose from Easy, Medium, Hard, or Expert mode. Each with unique challenges and rewards</p>
                </div>
                <div class="feature">
                    <h3>üìä Global Leaderboards</h3>
                    <p>Compete worldwide! Track top 10 scores by net worth or ROI with difficulty filters</p>
                </div>
                <div class="feature">
                    <h3>üéØ 35+ Achievements</h3>
                    <p>Unlock achievements across 6 categories from Common to Legendary rarity</p>
                </div>
                <div class="feature">
                    <h3>üìà Career Progression</h3>
                    <p>Level up from Intern to Legendary Investor with 11 career levels</p>
                </div>
                <div class="feature">
                    <h3>üé≤ 60+ Random Events</h3>
                    <p>Experience market crashes, IPOs, acquisitions, pivots, and more over 120 turns</p>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>üöÄ Founder Mode Features (NEW!)</h2>
            <div class="features">
                <div class="feature">
                    <h3>üë• Team Building</h3>
                    <p>Hire engineers, sales, CS, marketing, and C-suite. Manage equity, vesting, and performance</p>
                </div>
                <div class="feature">
                    <h3>üíµ Fundraising</h3>
                    <p>Raise Seed, Series A, B, C rounds. Review term sheets, manage dilution, and track your cap table</p>
                </div>
                <div class="feature">
                    <h3>üìä SaaS Metrics</h3>
                    <p>Track MRR, churn, LTV:CAC, Rule of 40, burn multiple, magic number, and more</p>
                </div>
                <div class="feature">
                    <h3>ü§ù Strategic Decisions</h3>
                    <p>Launch partnerships, affiliate programs, expand to new markets, hire advisors, and pivot</p>
                </div>
                <div class="feature">
                    <h3>üéØ Exit Options</h3>
                    <p>Go public via IPO, get acquired by strategic buyers, or take a secondary sale</p>
                </div>
                <div class="feature">
                    <h3>üëî Board & Advisors</h3>
                    <p>Add advisors with expertise in sales, product, operations. Get guidance and opportunities</p>
                </div>
                <div class="feature">
                    <h3>üìà Customer Tracking</h3>
                    <p>Individual customer records, deal sizes, contract terms, churn tracking, health scores</p>
                </div>
                <div class="feature">
                    <h3>üí∞ Cash Flow Management</h3>
                    <p>Balance revenue, team costs, infrastructure, marketing spend, and runway</p>
                </div>
                <div class="feature">
                    <h3>üè¢ 10 Startup Templates</h3>
                    <p>Choose from SaaS, DeepTech, GovTech templates with unique challenges and metrics</p>
                </div>
            </div>
        </div>

        <div class="card">
            <h2>üéØ How to Play</h2>
            <p style="margin-bottom: 1.5rem;"><strong>Choose your path: VC Investor or Startup Founder!</strong></p>
            
            <h3 style="font-size: 1.3rem; margin: 1.5rem 0 0.5rem; color: #ffd700;">üíº VC Mode</h3>
            <p><strong>1.</strong> Choose your difficulty level (Easy, Medium, Hard, Expert)</p>
            <p><strong>2.</strong> Review 20 startup options with risk and growth indicators</p>
            <p><strong>3.</strong> Make strategic investments across different sectors</p>
            <p><strong>4.</strong> Watch your portfolio grow (or shrink!) over 120 turns (10 years)</p>
            <p><strong>5.</strong> Unlock achievements and climb the global leaderboards</p>
            <p style="margin-bottom: 2rem;"><strong>6.</strong> Aim for 1000%+ ROI to earn the "Unicorn Hunter" title!</p>

            <h3 style="font-size: 1.3rem; margin: 1.5rem 0 0.5rem; color: #ffd700;">üöÄ Founder Mode</h3>
            <p><strong>1.</strong> Choose your startup template (SaaS, DeepTech, GovTech)</p>
            <p><strong>2.</strong> Hire your initial team and manage equity allocation</p>
            <p><strong>3.</strong> Acquire customers through marketing, partnerships, and sales</p>
            <p><strong>4.</strong> Raise funding rounds when needed to fuel growth</p>
            <p><strong>5.</strong> Navigate strategic decisions, competitors, and random events</p>
            <p><strong>6.</strong> Track key metrics: MRR, churn, LTV:CAC, burn rate, runway</p>
            <p><strong>7.</strong> Exit via IPO, acquisition, or secondary sale - or keep building!</p>
        </div>

        <div class="card" style="text-align: center;">
            <h2>üíª Open Source</h2>
            <p style="margin-bottom: 2rem;">Unicorn is open source and built with Go. Contributions welcome!</p>
            
            <a href="https://github.com/jamesacampbell/unicorn" target="_blank" class="github-link">
                <svg width="24" height="24" viewBox="0 0 16 16" fill="currentColor">
                    <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path>
                </svg>
                View on GitHub
            </a>

            <p style="margin-top: 2rem; opacity: 0.8;">
                Made with ‚ù§Ô∏è by <a href="https://github.com/jamesacampbell" style="color: #ffd700; text-decoration: none; font-weight: 600;" target="_blank">@jamesacampbell</a>
            </p>
        </div>

        <footer>
            <p>¬© 2019-2025 Unicorn Game ‚Ä¢ Licensed under MIT</p>
            <p style="margin-top: 1rem;">Play ‚Ä¢ Invest ‚Ä¢ Build Your Empire üöÄ</p>
        </footer>
    </div>

    <script>
        // Leaderboard API endpoints - reads from Postgres
        const VC_LEADERBOARD_URL = 'https://unicorn-green.vercel.app/leaderboard/game_scores.json';
        const FOUNDER_LEADERBOARD_URL = 'https://unicorn-green.vercel.app/api/get-founder-leaderboard';
        
        let currentMode = 'vc'; // 'vc' or 'founder'
        let currentFilter = 'all';
        let currentSort = 'net_worth';

        // Format money with commas
        function formatMoney(amount) {
            return '$' + amount.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ',');
        }

        // Format date
        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('en-US', { 
                year: 'numeric', 
                month: 'short', 
                day: 'numeric' 
            });
        }

        // Switch between VC and Founder leaderboards
        function switchLeaderboardMode(mode) {
            currentMode = mode;
            
            // Update mode tabs
            document.querySelectorAll('.filter-tab').forEach(tab => {
                const onclick = tab.getAttribute('onclick');
                if (onclick && onclick.includes('switchLeaderboardMode')) {
                    tab.classList.remove('active');
                    if (onclick.includes(`'${mode}'`)) {
                        tab.classList.add('active');
                    }
                }
            });
            
            // Show/hide appropriate filters
            const vcFilters = document.getElementById('vc-filters');
            const founderFilters = document.getElementById('founder-filters');
            
            if (mode === 'vc') {
                vcFilters.style.display = 'flex';
                founderFilters.style.display = 'none';
                loadVCLeaderboard('all', 'net_worth', null);
            } else {
                vcFilters.style.display = 'none';
                founderFilters.style.display = 'flex';
                loadFounderLeaderboard('', 'payout', null);
            }
        }
        
        // Load VC leaderboard data
        async function loadVCLeaderboard(difficulty = currentFilter, sortBy = currentSort, event = null) {
            currentFilter = difficulty;
            currentSort = sortBy;
            
            const content = document.getElementById('leaderboard-content');
            content.innerHTML = '<div class="loading">Loading...</div>';

            // Update active tab
            document.querySelectorAll('.filter-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            if (event && event.target) {
                event.target.classList.add('active');
            } else {
                // Find and activate the matching tab
                document.querySelectorAll('.filter-tab').forEach(tab => {
                    const onclick = tab.getAttribute('onclick');
                    if (onclick && onclick.includes(`'${difficulty}'`) && onclick.includes(`'${sortBy}'`)) {
                        tab.classList.add('active');
                    }
                });
            }

            try {
                // Build query parameters
                let url = VC_LEADERBOARD_URL + '?_size=10&_sort_desc=' + (sortBy === 'roi' ? 'roi' : 'final_net_worth');
                
                if (difficulty !== 'all') {
                    url += '&difficulty=' + encodeURIComponent(difficulty);
                }

                const response = await fetch(url);
                
                if (!response.ok) {
                    throw new Error('Failed to fetch leaderboard data');
                }

                const data = await response.json();
                
                if (!data.rows || data.rows.length === 0) {
                    content.innerHTML = '<p style="text-align: center; padding: 2rem;">No scores yet. Be the first!</p>';
                    return;
                }

                // Build table
                let html = '<table class="leaderboard-table">';
                html += '<thead><tr>';
                html += '<th>Rank</th>';
                html += '<th>Player</th>';
                html += '<th>Net Worth</th>';
                html += '<th>ROI</th>';
                html += '<th>Exits</th>';
                html += '<th>Difficulty</th>';
                html += '<th>Date</th>';
                html += '</tr></thead>';
                html += '<tbody>';

                data.rows.forEach((row, index) => {
                    const [id, playerName, netWorth, roi, exits, turns, difficulty, playedAt] = row;
                    const rankClass = index === 0 ? 'rank-1' : index === 1 ? 'rank-2' : index === 2 ? 'rank-3' : '';
                    const roiClass = roi >= 0 ? 'positive-roi' : 'negative-roi';
                    
                    html += '<tr>';
                    html += `<td class="${rankClass}">${index + 1}</td>`;
                    html += `<td>${playerName}</td>`;
                    html += `<td>${formatMoney(netWorth)}</td>`;
                    html += `<td class="${roiClass}">${roi.toFixed(1)}%</td>`;
                    html += `<td>${exits}</td>`;
                    html += `<td>${difficulty}</td>`;
                    html += `<td>${formatDate(playedAt)}</td>`;
                    html += '</tr>';
                });

                html += '</tbody></table>';
                content.innerHTML = html;

            } catch (error) {
                console.error('Error loading leaderboard:', error);
                content.innerHTML = `
                    <div class="error-message">
                        <p><strong>‚ö†Ô∏è Could not load global leaderboard</strong></p>
                        <p>The leaderboard service may not be deployed yet.</p>
                        <p style="margin-top: 1rem; font-size: 0.9rem;">To enable the global leaderboard:</p>
                        <ol style="margin-left: 1.5rem; margin-top: 0.5rem; font-size: 0.9rem;">
                            <li>Install Vercel CLI: <code>npm i -g vercel</code></li>
                            <li>Deploy the API: <code>vercel deploy --prod</code></li>
                            <li>Update the Datasette URL in this page</li>
                        </ol>
                    </div>
                `;
            }
        }

        // Load Founder leaderboard data
        async function loadFounderLeaderboard(template = '', sortBy = 'payout', event = null) {
            const content = document.getElementById('leaderboard-content');
            content.innerHTML = '<div class="loading">Loading...</div>';

            try {
                // Build query parameters
                let url = FOUNDER_LEADERBOARD_URL + '?limit=10&sort_by=' + sortBy;
                
                if (template) {
                    url += '&template=' + encodeURIComponent(template);
                }

                const response = await fetch(url);
                
                if (!response.ok) {
                    throw new Error('Failed to fetch founder leaderboard data');
                }

                const data = await response.json();
                
                if (!data.success || !data.scores || data.scores.length === 0) {
                    content.innerHTML = '<p style="text-align: center; padding: 2rem;">No scores yet. Be the first!</p>';
                    return;
                }

                // Build table
                let html = '<table class="leaderboard-table">';
                html += '<thead><tr>';
                html += '<th>Rank</th>';
                html += '<th>Founder</th>';
                html += '<th>Valuation</th>';
                html += '<th>Payout</th>';
                html += '<th>Exit</th>';
                html += '<th>Equity %</th>';
                html += '<th>ARR</th>';
                html += '<th>Template</th>';
                html += '</tr></thead>';
                html += '<tbody>';

                data.scores.forEach((score, index) => {
                    const rankClass = index === 0 ? 'rank-1' : index === 1 ? 'rank-2' : index === 2 ? 'rank-3' : '';
                    
                    html += '<tr>';
                    html += `<td class="${rankClass}">${index + 1}</td>`;
                    html += `<td>${score.player_name}</td>`;
                    html += `<td>${formatMoney(score.final_valuation)}</td>`;
                    html += `<td class="positive-roi">${formatMoney(score.founder_payout)}</td>`;
                    html += `<td>${score.exit_type === 'ipo' ? 'üèõÔ∏è  IPO' : score.exit_type === 'acquisition' ? 'ü§ù Acquired' : score.exit_type === 'secondary' ? 'üíº Secondary' : '‚è±Ô∏è Time'}</td>`;
                    html += `<td>${score.founder_equity.toFixed(1)}%</td>`;
                    html += `<td>${formatMoney(score.max_arr)}</td>`;
                    html += `<td>${score.startup_template}</td>`;
                    html += '</tr>';
                });

                html += '</tbody></table>';
                content.innerHTML = html;

            } catch (error) {
                console.error('Error loading founder leaderboard:', error);
                content.innerHTML = `
                    <div class="error-message">
                        <p><strong>‚ö†Ô∏è Could not load founder leaderboard</strong></p>
                        <p>The leaderboard service may not be deployed yet.</p>
                    </div>
                `;
            }
        }

        // Load leaderboard on page load
        function initLeaderboard() {
            loadVCLeaderboard('all', 'net_worth');
        }

        // Try multiple initialization methods to ensure it loads
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initLeaderboard);
        } else {
            // DOMContentLoaded has already fired
            initLeaderboard();
        }

        // Smooth scroll to leaderboard
        if (window.location.hash === '#leaderboard') {
            setTimeout(() => {
                document.getElementById('global-leaderboard')?.scrollIntoView({ behavior: 'smooth' });
            }, 500);
        }
    </script>
</body>
</html>

